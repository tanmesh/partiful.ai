{"text":"Build your own OpenAI Agent Initial Setup Agent Definition Let s Try It Out Our Slightly Better OpenAIAgent Implementation Chat Async Chat Streaming Chat Async Streaming Chat Agent with Personality  Getting Started Use Cases Understanding Optimizing Module Guides API Reference Community Contributing Changes  With the new OpenAI API that supports function calling it s never been easier to build your own agent In this notebook tutorial we showcase how to write your own OpenAI agent in under 50 lines of code It is minimal yet feature complete with ability to carry on a conversation and use tools Let s start by importing some simple building blocks The main thing we need is the OpenAI API using our own llama_index LLM class a place to keep conversation history a definition for tools that our agent can use If you re opening this Notebook on colab you will probably need to install LlamaIndex Let s define some very simple calculator tools for our agent Now we define our agent that s capable of holding a conversation and calling tools in under 50 lines of code The meat of the agent logic is in the chat method At a high level there are 3 steps Call OpenAI to decide which tool if any to call and with what arguments Call the tool with the arguments to obtain an output Call OpenAI to synthesize a response from the conversation context and the tool output The reset method simply resets the conversation context so we can start another conversation We provide a slightly better OpenAIAgent implementation in LlamaIndex which you can directly use as follows In comparison to the simplified version above it implements the BaseChatEngine and BaseQueryEngine interface so you can more seamlessly use it in the LlamaIndex framework it supports multiple function calls per conversation turn it supports streaming it supports async endpoints it supports callback and tracing Here every LLM response is returned as a generator You can stream every incremental step or only the last response You can specify a system prompt to give the agent additional instruction or personality","link":"https://docs.llamaindex.ai/en/stable/examples/agent/openai_agent.html"}